import json
import pandas as pd

with open("load_model_keras_lstm.py") as f:
    exec(f.read())

#model_keras_lstm.summary()

data_as_json = '{"0":{"1866":7216},"1":{"1866":2724},"2":{"1866":17},"3":{"1866":17},"4":{"1866":225},"5":{"1866":121},"6":{"1866":0},"7":{"1866":0},"8":{"1866":0},"9":{"1866":0},"10":{"1866":0},"11":{"1866":0},"12":{"1866":0},"13":{"1866":0},"14":{"1866":0},"15":{"1866":0},"16":{"1866":0},"17":{"1866":0},"18":{"1866":0},"19":{"1866":0},"20":{"1866":0},"21":{"1866":0},"22":{"1866":0},"23":{"1866":0},"24":{"1866":0},"25":{"1866":0},"26":{"1866":0},"27":{"1866":0},"28":{"1866":0},"29":{"1866":0},"30":{"1866":0},"31":{"1866":0},"32":{"1866":0},"33":{"1866":0},"34":{"1866":0},"35":{"1866":0},"36":{"1866":0},"37":{"1866":0},"38":{"1866":0},"39":{"1866":0},"40":{"1866":0},"41":{"1866":0},"42":{"1866":0},"43":{"1866":0},"44":{"1866":0},"45":{"1866":0},"46":{"1866":0},"47":{"1866":0},"48":{"1866":0},"49":{"1866":0}}'

# Make the input JSON file into a dictionary
data = json.loads(data_as_json)

# Make the dictionary into a dataframe
df = pd.DataFrame.from_dict(data)
probability = model_keras_lstm.predict(df)
print(probability)
